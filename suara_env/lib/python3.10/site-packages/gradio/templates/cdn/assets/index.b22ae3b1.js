import{S as L,i as Z,s as F,A as q,B as u,f as d,D as k,E as S,p as h,e as ne,ac as J,F as T,H as V,G as C,J as D,N as G,I as z,a0 as re,O as M,C as A,c as N,m as j,o as y,t as H,l as E,q as ie,v as fe,a2 as ce,g as ue,h as _e,k as Y,n as K}from"./index.53206edc.js";import{g as me}from"./color.da395cdc.js";/* empty css                                            */import{B as ge}from"./Block.39e52cbe.js";import{B as de}from"./BlockLabel.07d642dd.js";import{E as he}from"./Empty.74100e65.js";import"./Button.1ff5d34e.js";function be(a){let e,t,l;return{c(){e=q("svg"),t=q("path"),l=q("path"),u(t,"fill","currentColor"),u(t,"d","M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"),u(l,"fill","currentColor"),u(l,"d","M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),u(e,"aria-hidden","true"),u(e,"role","img"),u(e,"class","iconify iconify--carbon"),u(e,"width","100%"),u(e,"height","100%"),u(e,"preserveAspectRatio","xMidYMid meet"),u(e,"viewBox","0 0 32 32")},m(s,o){d(s,e,o),k(e,t),k(e,l)},p:S,i:S,o:S,d(s){s&&h(e)}}}class oe extends L{constructor(e){super(),Z(this,e,null,be,F,{})}}function P(a,e,t){const l=a.slice();return l[15]=e[t][0],l[22]=e[t][1],l}function Q(a,e,t){const l=a.slice();return l[15]=e[t][0],l[16]=e[t][1],l}function U(a,e,t){const l=a.slice();return l[16]=e[t][0],l[19]=e[t][1],l[21]=t,l}function pe(a){let e,t,l=a[1]&&W(),s=a[0],o=[];for(let n=0;n<s.length;n+=1)o[n]=X(P(a,s,n));return{c(){l&&l.c(),e=C(),t=T("div");for(let n=0;n<o.length;n+=1)o[n].c();u(t,"class","textfield svelte-1m96bx3"),u(t,"data-testid","highlighted-text:textfield")},m(n,i){l&&l.m(n,i),d(n,e,i),d(n,t,i);for(let r=0;r<o.length;r+=1)o[r].m(t,null)},p(n,i){if(n[1]?l||(l=W(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i&1){s=n[0];let r;for(r=0;r<s.length;r+=1){const _=P(n,s,r);o[r]?o[r].p(_,i):(o[r]=X(_),o[r].c(),o[r].m(t,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=s.length}},d(n){l&&l.d(n),n&&h(e),n&&h(t),G(o,n)}}}function ve(a){let e,t,l=a[1]&&$(a),s=a[0],o=[];for(let n=0;n<s.length;n+=1)o[n]=le(Q(a,s,n));return{c(){l&&l.c(),e=C(),t=T("div");for(let n=0;n<o.length;n+=1)o[n].c();u(t,"class","textfield svelte-1m96bx3")},m(n,i){l&&l.m(n,i),d(n,e,i),d(n,t,i);for(let r=0;r<o.length;r+=1)o[r].m(t,null)},p(n,i){if(n[1]?l?l.p(n,i):(l=$(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i&15){s=n[0];let r;for(r=0;r<s.length;r+=1){const _=Q(n,s,r);o[r]?o[r].p(_,i):(o[r]=le(_),o[r].c(),o[r].m(t,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=s.length}},d(n){l&&l.d(n),n&&h(e),n&&h(t),G(o,n)}}}function W(a){let e;return{c(){e=T("div"),e.innerHTML=`<span>-1</span> 
			<span>0</span> 
			<span>+1</span>`,u(e,"class","color-legend svelte-1m96bx3"),u(e,"data-testid","highlighted-text:color-legend")},m(t,l){d(t,e,l)},d(t){t&&h(e)}}}function X(a){let e,t,l=a[15]+"",s,o,n;return{c(){e=T("span"),t=T("span"),s=V(l),o=C(),u(t,"class","text svelte-1m96bx3"),u(e,"class","textspan score-text svelte-1m96bx3"),u(e,"style",n="background-color: rgba("+(a[22]<0?"128, 90, 213,"+-a[22]:"239, 68, 60,"+a[22])+")")},m(i,r){d(i,e,r),k(e,t),k(t,s),k(e,o)},p(i,r){r&1&&l!==(l=i[15]+"")&&D(s,l),r&1&&n!==(n="background-color: rgba("+(i[22]<0?"128, 90, 213,"+-i[22]:"239, 68, 60,"+i[22])+")")&&u(e,"style",n)},d(i){i&&h(e)}}}function $(a){let e,t=Object.entries(a[2]),l=[];for(let s=0;s<t.length;s+=1)l[s]=x(U(a,t,s));return{c(){e=T("div");for(let s=0;s<l.length;s+=1)l[s].c();u(e,"class","category-legend svelte-1m96bx3"),u(e,"data-testid","highlighted-text:category-legend")},m(s,o){d(s,e,o);for(let n=0;n<l.length;n+=1)l[n].m(e,null)},p(s,o){if(o&100){t=Object.entries(s[2]);let n;for(n=0;n<t.length;n+=1){const i=U(s,t,n);l[n]?l[n].p(i,o):(l[n]=x(i),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&h(e),G(l,s)}}}function x(a){let e,t=a[16]+"",l,s,o,n,i;function r(){return a[8](a[16])}function _(){return a[9](a[16])}return{c(){e=T("div"),l=V(t),s=C(),u(e,"class","category-label svelte-1m96bx3"),u(e,"style",o="background-color:"+a[19].secondary)},m(c,p){d(c,e,p),k(e,l),k(e,s),n||(i=[z(e,"mouseover",r),z(e,"focus",_),z(e,"mouseout",a[10]),z(e,"blur",a[11])],n=!0)},p(c,p){a=c,p&4&&t!==(t=a[16]+"")&&D(l,t),p&4&&o!==(o="background-color:"+a[19].secondary)&&u(e,"style",o)},d(c){c&&h(e),n=!1,re(i)}}}function ee(a){let e,t,l=a[16]+"",s;return{c(){e=V(`\xA0
					`),t=T("span"),s=V(l),u(t,"class","label svelte-1m96bx3"),A(t,"background-color",a[16]===null||a[3]&&a[3]!==a[16]?"":a[2][a[16]].primary,!1)},m(o,n){d(o,e,n),d(o,t,n),k(t,s)},p(o,n){n&1&&l!==(l=o[16]+"")&&D(s,l),n&13&&A(t,"background-color",o[16]===null||o[3]&&o[3]!==o[16]?"":o[2][o[16]].primary,!1)},d(o){o&&h(e),o&&h(t)}}}function le(a){let e,t,l=a[15]+"",s,o,n,i=!a[1]&&a[16]!==null&&ee(a);return{c(){e=T("span"),t=T("span"),s=V(l),o=C(),i&&i.c(),n=C(),u(t,"class","text svelte-1m96bx3"),M(t,"no-label",!a[2][a[16]]),u(e,"class","textspan svelte-1m96bx3"),M(e,"no-cat",a[16]===null||a[3]&&a[3]!==a[16]),M(e,"hl",a[16]!==null),A(e,"background-color",a[16]===null||a[3]&&a[3]!==a[16]?"":a[2][a[16]].secondary,!1)},m(r,_){d(r,e,_),k(e,t),k(t,s),k(e,o),i&&i.m(e,null),k(e,n)},p(r,_){_&1&&l!==(l=r[15]+"")&&D(s,l),_&5&&M(t,"no-label",!r[2][r[16]]),!r[1]&&r[16]!==null?i?i.p(r,_):(i=ee(r),i.c(),i.m(e,n)):i&&(i.d(1),i=null),_&9&&M(e,"no-cat",r[16]===null||r[3]&&r[3]!==r[16]),_&1&&M(e,"hl",r[16]!==null),_&13&&A(e,"background-color",r[16]===null||r[3]&&r[3]!==r[16]?"":r[2][r[16]].secondary,!1)},d(r){r&&h(e),i&&i.d()}}}function ke(a){let e;function t(o,n){return o[4]==="categories"?ve:pe}let l=t(a),s=l(a);return{c(){s.c(),e=ne()},m(o,n){s.m(o,n),d(o,e,n)},p(o,[n]){l===(l=t(o))&&s?s.p(o,n):(s.d(1),s=l(o),s&&(s.c(),s.m(e.parentNode,e)))},i:S,o:S,d(o){s.d(o),o&&h(e)}}}function ye(a,e,t){const l=typeof document<"u";let{value:s=[]}=e,{show_legend:o=!1}=e,{color_map:n={}}=e,i,r={},_="";function c(g,w){if(!i){var B=document.createElement("canvas");i=B.getContext("2d")}i.fillStyle=g,i.fillRect(0,0,1,1);const[R,se,ae]=i.getImageData(0,0,1,1).data;return i.clearRect(0,0,1,1),`rgba(${R}, ${se}, ${ae}, ${255/w})`}let p;function v(g){t(3,_=g)}function m(){t(3,_="")}const f=g=>v(g),b=g=>v(g),I=()=>m(),O=()=>m();return a.$$set=g=>{"value"in g&&t(0,s=g.value),"show_legend"in g&&t(1,o=g.show_legend),"color_map"in g&&t(7,n=g.color_map)},a.$$.update=()=>{if(a.$$.dirty&129){let g=function(){for(const w in n){const B=n[w].trim();B in J?t(2,r[w]=J[B],r):t(2,r[w]={primary:l?c(n[w],1):n[w],secondary:l?c(n[w],.5):n[w]},r)}};if(n||t(7,n={}),s.length>0){for(let[w,B]of s)if(B!==null)if(typeof B=="string"){if(t(4,p="categories"),!(B in n)){let R=me(Object.keys(n).length);t(7,n[B]=R,n)}}else t(4,p="scores")}g()}},[s,o,r,_,p,v,m,n,f,b,I,O]}class we extends L{constructor(e){super(),Z(this,e,ye,ke,F,{value:0,show_legend:1,color_map:7})}}function te(a){let e,t;return e=new de({props:{Icon:oe,label:a[5],disable:typeof a[0].container=="boolean"&&!a[0].container}}),{c(){N(e.$$.fragment)},m(l,s){j(e,l,s),t=!0},p(l,s){const o={};s&32&&(o.label=l[5]),s&1&&(o.disable=typeof l[0].container=="boolean"&&!l[0].container),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){E(e,l)}}}function He(a){let e,t;return e=new he({props:{$$slots:{default:[Be]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},m(l,s){j(e,l,s),t=!0},p(l,s){const o={};s&1024&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){E(e,l)}}}function Te(a){let e,t;return e=new we({props:{value:a[3],show_legend:a[4],color_map:a[0].color_map}}),{c(){N(e.$$.fragment)},m(l,s){j(e,l,s),t=!0},p(l,s){const o={};s&8&&(o.value=l[3]),s&16&&(o.show_legend=l[4]),s&1&&(o.color_map=l[0].color_map),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){E(e,l)}}}function Be(a){let e,t;return e=new oe({}),{c(){N(e.$$.fragment)},m(l,s){j(e,l,s),t=!0},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){E(e,l)}}}function Ce(a){let e,t,l,s,o,n,i;const r=[a[6]];let _={};for(let f=0;f<r.length;f+=1)_=fe(_,r[f]);e=new ce({props:_});let c=a[5]&&te(a);const p=[Te,He],v=[];function m(f,b){return f[3]?0:1}return s=m(a),o=v[s]=p[s](a),{c(){N(e.$$.fragment),t=C(),c&&c.c(),l=C(),o.c(),n=ne()},m(f,b){j(e,f,b),d(f,t,b),c&&c.m(f,b),d(f,l,b),v[s].m(f,b),d(f,n,b),i=!0},p(f,b){const I=b&64?ue(r,[_e(f[6])]):{};e.$set(I),f[5]?c?(c.p(f,b),b&32&&y(c,1)):(c=te(f),c.c(),y(c,1),c.m(l.parentNode,l)):c&&(Y(),H(c,1,1,()=>{c=null}),K());let O=s;s=m(f),s===O?v[s].p(f,b):(Y(),H(v[O],1,1,()=>{v[O]=null}),K(),o=v[s],o?o.p(f,b):(o=v[s]=p[s](f),o.c()),y(o,1),o.m(n.parentNode,n))},i(f){i||(y(e.$$.fragment,f),y(c),y(o),i=!0)},o(f){H(e.$$.fragment,f),H(c),H(o),i=!1},d(f){E(e,f),f&&h(t),c&&c.d(f),f&&h(l),v[s].d(f),f&&h(n)}}}function Me(a){let e,t;return e=new ge({props:{test_id:"highlighted-text",visible:a[2],elem_id:a[1],disable:typeof a[0].container=="boolean"&&!a[0].container,$$slots:{default:[Ce]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},m(l,s){j(e,l,s),t=!0},p(l,[s]){const o={};s&4&&(o.visible=l[2]),s&2&&(o.elem_id=l[1]),s&1&&(o.disable=typeof l[0].container=="boolean"&&!l[0].container),s&1145&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){E(e,l)}}}function Ne(a,e,t){let{elem_id:l=""}=e,{visible:s=!0}=e,{value:o}=e,n,{show_legend:i}=e,{color_map:r={}}=e,{label:_}=e,{style:c={}}=e,{loading_status:p}=e;const v=ie();return a.$$set=m=>{"elem_id"in m&&t(1,l=m.elem_id),"visible"in m&&t(2,s=m.visible),"value"in m&&t(3,o=m.value),"show_legend"in m&&t(4,i=m.show_legend),"color_map"in m&&t(7,r=m.color_map),"label"in m&&t(5,_=m.label),"style"in m&&t(0,c=m.style),"loading_status"in m&&t(6,p=m.loading_status)},a.$$.update=()=>{a.$$.dirty&129&&!c.color_map&&Object.keys(r).length&&t(0,c.color_map=r,c),a.$$.dirty&264&&o!==n&&(t(8,n=o),v("change"))},[c,l,s,o,i,_,p,r,n]}class je extends L{constructor(e){super(),Z(this,e,Ne,Me,F,{elem_id:1,visible:2,value:3,show_legend:4,color_map:7,label:5,style:0,loading_status:6})}}var Ie=je;const Re=["static"],qe=a=>({type:"Array<[string, string | number]>",description:"list of text spans and corresponding label / value"});export{Ie as Component,qe as document,Re as modes};
//# sourceMappingURL=index.b22ae3b1.js.map
