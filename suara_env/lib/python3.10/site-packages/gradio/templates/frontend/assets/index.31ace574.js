import{S as _e,i as de,s as he,F as B,B as p,O as E,f as M,I as K,p as T,a0 as ge,G as V,E as te,x as ve,b as P,H as $,J as me,e as st,ad as at,D as L,a as le,o as C,c as Z,m as j,t as R,l as Q,k as W,n as X,j as ne,q as ze,A as x,V as J,y as oe,z as ce,v as rt,a2 as it,g as ut,h as ft}from"./index.3b5d9bed.js";import{U as ot}from"./Upload.1f4a3d60.js";/* empty css                                            */import"./ModifyUpload.svelte_svelte_type_style_lang.1181cbe3.js";import{B as He}from"./Button.cad7c48c.js";import{d as ct}from"./dsv.7fe76a93.js";var Ae=Object.prototype.hasOwnProperty;function se(s,e){var t,n;if(s===e)return!0;if(s&&e&&(t=s.constructor)===e.constructor){if(t===Date)return s.getTime()===e.getTime();if(t===RegExp)return s.toString()===e.toString();if(t===Array){if((n=s.length)===e.length)for(;n--&&se(s[n],e[n]););return n===-1}if(!t||typeof s=="object"){n=0;for(t in s)if(Ae.call(s,t)&&++n&&!Ae.call(e,t)||!(t in e)||!se(s[t],e[t]))return!1;return Object.keys(e).length===n}}return s!==s&&e!==e}function De(s){let e,t,n;return{c(){e=B("input"),p(e,"tabindex","-1"),e.value=s[0],p(e,"class","svelte-q8uklq"),E(e,"header",s[3])},m(l,r){M(l,e,r),s[7](e),t||(n=[K(e,"keydown",s[6]),K(e,"blur",s[8])],t=!0)},p(l,r){r&1&&e.value!==l[0]&&(e.value=l[0]),r&8&&E(e,"header",l[3])},d(l){l&&T(e),s[7](null),t=!1,ge(n)}}}function _t(s){let e;return{c(){e=$(s[0])},m(t,n){M(t,e,n)},p(t,n){n&1&&me(e,t[0])},d(t){t&&T(e)}}}function dt(s){let e,t;return{c(){e=new at(!1),t=st(),e.a=t},m(n,l){e.m(s[0],n,l),M(n,t,l)},p(n,l){l&1&&e.p(n[0])},d(n){n&&T(t),n&&e.d()}}}function ht(s){let e,t,n,l,r=s[2]&&De(s);function _(i,g){return i[4]==="markdown"||i[4]==="html"?dt:_t}let d=_(s),f=d(s);return{c(){r&&r.c(),e=V(),t=B("span"),f.c(),p(t,"tabindex","-1"),p(t,"role","button"),p(t,"class","svelte-q8uklq"),E(t,"edit",s[2])},m(i,g){r&&r.m(i,g),M(i,e,g),M(i,t,g),f.m(t,null),n||(l=K(t,"dblclick",s[5]),n=!0)},p(i,[g]){i[2]?r?r.p(i,g):(r=De(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),d===(d=_(i))&&f?f.p(i,g):(f.d(1),f=d(i),f&&(f.c(),f.m(t,null))),g&4&&E(t,"edit",i[2])},i:te,o:te,d(i){r&&r.d(i),i&&T(e),i&&T(t),f.d(),n=!1,l()}}}function gt(s,e,t){let{edit:n}=e,{value:l=""}=e,{el:r}=e,{header:_=!1}=e,{datatype:d="str"}=e;function f(c){ve.call(this,s,c)}function i(c){ve.call(this,s,c)}function g(c){P[c?"unshift":"push"](()=>{r=c,t(1,r)})}const y=({currentTarget:c})=>{t(0,l=c.value),c.setAttribute("tabindex","-1")};return s.$$set=c=>{"edit"in c&&t(2,n=c.edit),"value"in c&&t(0,l=c.value),"el"in c&&t(1,r=c.el),"header"in c&&t(3,_=c.header),"datatype"in c&&t(4,d=c.datatype)},[l,r,n,_,d,f,i,g,y]}class Ne extends _e{constructor(e){super(),de(this,e,gt,ht,he,{edit:2,value:0,el:1,header:3,datatype:4})}}function Ee(s,e,t){const n=s.slice();return n[52]=e[t],n[54]=t,n}function Le(s,e,t){const n=s.slice();return n[55]=e[t].value,n[56]=e[t].id,n[57]=e,n[58]=t,n}function qe(s,e,t){const n=s.slice();return n[55]=e[t].value,n[56]=e[t].id,n[59]=e,n[54]=t,n}function Be(s){let e,t;return{c(){e=B("p"),t=$(s[1]),p(e,"class","svelte-1sckpv1")},m(n,l){M(n,e,l),L(e,t)},p(n,l){l[0]&2&&me(t,n[1])},d(n){n&&T(e)}}}function Me(s){let e,t;return{c(){e=B("caption"),t=$(s[1]),p(e,"class","sr-only")},m(n,l){M(n,e,l),L(e,t)},p(n,l){l[0]&2&&me(t,n[1])},d(n){n&&T(e)}}}function Te(s,e){let t,n,l,r,_,d,f,i,g,y,c,m=e[56],o,A,S;function u(z){e[30](z,e[56])}function k(){return e[31](e[56])}let q={value:e[55],edit:e[13]===e[56],header:!0};e[10][e[56]].input!==void 0&&(q.el=e[10][e[56]].input),l=new Ne({props:q}),P.push(()=>le(l,"el",u)),l.$on("keydown",e[21]),l.$on("dblclick",k);function b(){return e[32](e[54])}const F=()=>e[33](t,m),U=()=>e[33](null,m);return{key:s,first:null,c(){t=B("th"),n=B("div"),Z(l.$$.fragment),_=V(),d=B("div"),f=x("svg"),i=x("path"),y=V(),p(i,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),p(f,"width","1em"),p(f,"height","1em"),p(f,"viewBox","0 0 9 7"),p(f,"fill","none"),p(f,"xmlns","http://www.w3.org/2000/svg"),p(f,"class","svelte-1sckpv1"),p(d,"class",g="sort-button "+e[11]+" svelte-1sckpv1"),E(d,"sorted",e[12]===e[54]),E(d,"des",e[12]===e[54]&&e[11]==="des"),p(n,"class","cell-wrap svelte-1sckpv1"),p(t,"aria-sort",c=e[15](e[55],e[12],e[11])),p(t,"class","svelte-1sckpv1"),E(t,"editing",e[13]===e[56]),this.first=t},m(z,O){M(z,t,O),L(t,n),j(l,n,null),L(n,_),L(n,d),L(d,f),L(f,i),L(t,y),F(),o=!0,A||(S=K(d,"click",b),A=!0)},p(z,O){e=z;const G={};O[0]&256&&(G.value=e[55]),O[0]&8448&&(G.edit=e[13]===e[56]),!r&&O[0]&1280&&(r=!0,G.el=e[10][e[56]].input,ne(()=>r=!1)),l.$set(G),(!o||O[0]&2048&&g!==(g="sort-button "+e[11]+" svelte-1sckpv1"))&&p(d,"class",g),O[0]&6400&&E(d,"sorted",e[12]===e[54]),O[0]&6400&&E(d,"des",e[12]===e[54]&&e[11]==="des"),(!o||O[0]&6400&&c!==(c=e[15](e[55],e[12],e[11])))&&p(t,"aria-sort",c),m!==e[56]&&(U(),m=e[56],F()),O[0]&8448&&E(t,"editing",e[13]===e[56])},i(z){o||(C(l.$$.fragment,z),o=!0)},o(z){R(l.$$.fragment,z),o=!1},d(z){z&&T(t),Q(l),U(),A=!1,S()}}}function Ce(s,e){let t,n,l,r,_,d=e[56],f,i,g;function y(b){e[34](b,e[55],e[57],e[58])}function c(b){e[35](b,e[56])}let m={edit:e[6]===e[56],datatype:Array.isArray(e[0])?e[0][e[58]]:e[0]};e[55]!==void 0&&(m.value=e[55]),e[10][e[56]].input!==void 0&&(m.el=e[10][e[56]].input),l=new Ne({props:m}),P.push(()=>le(l,"value",y)),P.push(()=>le(l,"el",c));const o=()=>e[36](t,d),A=()=>e[36](null,d);function S(){return e[37](e[56])}function u(){return e[38](e[56])}function k(){return e[39](e[56])}function q(...b){return e[40](e[54],e[58],e[56],...b)}return{key:s,first:null,c(){t=B("td"),n=B("div"),Z(l.$$.fragment),p(n,"class","cell-wrap svelte-1sckpv1"),E(n,"border-transparent",e[7]!==e[56]),p(t,"tabindex","0"),p(t,"class","svelte-1sckpv1"),this.first=t},m(b,F){M(b,t,F),L(t,n),j(l,n,null),o(),f=!0,i||(g=[K(t,"touchstart",S,{passive:!0}),K(t,"click",u),K(t,"dblclick",k),K(t,"keydown",q)],i=!0)},p(b,F){e=b;const U={};F[0]&576&&(U.edit=e[6]===e[56]),F[0]&513&&(U.datatype=Array.isArray(e[0])?e[0][e[58]]:e[0]),!r&&F[0]&512&&(r=!0,U.value=e[55],ne(()=>r=!1)),!_&&F[0]&1536&&(_=!0,U.el=e[10][e[56]].input,ne(()=>_=!1)),l.$set(U),F[0]&640&&E(n,"border-transparent",e[7]!==e[56]),d!==e[56]&&(A(),d=e[56],o())},i(b){f||(C(l.$$.fragment,b),f=!0)},o(b){R(l.$$.fragment,b),f=!1},d(b){b&&T(t),Q(l),A(),i=!1,ge(g)}}}function Fe(s,e){let t,n=[],l=new Map,r,_,d=e[52];const f=i=>i[56];for(let i=0;i<d.length;i+=1){let g=Le(e,d,i),y=f(g);l.set(y,n[i]=Ce(y,g))}return{key:s,first:null,c(){t=B("tr");for(let i=0;i<n.length;i+=1)n[i].c();r=V(),p(t,"class","svelte-1sckpv1"),this.first=t},m(i,g){M(i,t,g);for(let y=0;y<n.length;y+=1)n[y].m(t,null);L(t,r),_=!0},p(i,g){e=i,g[0]&460481&&(d=e[52],W(),n=oe(n,g,f,1,e,d,l,t,ce,Ce,r,Le),X())},i(i){if(!_){for(let g=0;g<d.length;g+=1)C(n[g]);_=!0}},o(i){for(let g=0;g<n.length;g+=1)R(n[g]);_=!1},d(i){i&&T(t);for(let g=0;g<n.length;g+=1)n[g].d()}}}function mt(s){let e,t,n,l,r=[],_=new Map,d,f,i=[],g=new Map,y,c=s[1]&&s[1].length!==0&&Me(s),m=s[8];const o=u=>u[56];for(let u=0;u<m.length;u+=1){let k=qe(s,m,u),q=o(k);_.set(q,r[u]=Te(q,k))}let A=s[9];const S=u=>u[52];for(let u=0;u<A.length;u+=1){let k=Ee(s,A,u),q=S(k);g.set(q,i[u]=Fe(q,k))}return{c(){e=B("table"),c&&c.c(),t=V(),n=B("thead"),l=B("tr");for(let u=0;u<r.length;u+=1)r[u].c();d=V(),f=B("tbody");for(let u=0;u<i.length;u+=1)i[u].c();p(l,"class","svelte-1sckpv1"),p(n,"class","svelte-1sckpv1"),p(f,"class","svelte-1sckpv1"),p(e,"class","svelte-1sckpv1"),E(e,"dragging",s[14])},m(u,k){M(u,e,k),c&&c.m(e,null),L(e,t),L(e,n),L(n,l);for(let q=0;q<r.length;q+=1)r[q].m(l,null);L(e,d),L(e,f);for(let q=0;q<i.length;q+=1)i[q].m(f,null);y=!0},p(u,k){u[1]&&u[1].length!==0?c?c.p(u,k):(c=Me(u),c.c(),c.m(e,t)):c&&(c.d(1),c=null),k[0]&3718400&&(m=u[8],W(),r=oe(r,k,o,1,u,m,_,l,ce,Te,null,qe),X()),k[0]&460481&&(A=u[9],W(),i=oe(i,k,S,1,u,A,g,f,ce,Fe,null,Ee),X()),k[0]&16384&&E(e,"dragging",u[14])},i(u){if(!y){for(let k=0;k<m.length;k+=1)C(r[k]);for(let k=0;k<A.length;k+=1)C(i[k]);y=!0}},o(u){for(let k=0;k<r.length;k+=1)R(r[k]);for(let k=0;k<i.length;k+=1)R(i[k]);y=!1},d(u){u&&T(e),c&&c.d();for(let k=0;k<r.length;k+=1)r[k].d();for(let k=0;k<i.length;k+=1)i[k].d()}}}function Oe(s){let e,t,n,l=s[3][1]==="dynamic"&&Re(s),r=s[2][1]==="dynamic"&&Se(s);return{c(){e=B("div"),l&&l.c(),t=V(),r&&r.c(),p(e,"class","controls-wrap svelte-1sckpv1")},m(_,d){M(_,e,d),l&&l.m(e,null),L(e,t),r&&r.m(e,null),n=!0},p(_,d){_[3][1]==="dynamic"?l?(l.p(_,d),d[0]&8&&C(l,1)):(l=Re(_),l.c(),C(l,1),l.m(e,t)):l&&(W(),R(l,1,1,()=>{l=null}),X()),_[2][1]==="dynamic"?r?(r.p(_,d),d[0]&4&&C(r,1)):(r=Se(_),r.c(),C(r,1),r.m(e,null)):r&&(W(),R(r,1,1,()=>{r=null}),X())},i(_){n||(C(l),C(r),n=!0)},o(_){R(l),R(r),n=!1},d(_){_&&T(e),l&&l.d(),r&&r.d()}}}function Re(s){let e,t,n;return t=new He({props:{variant:"plain",size:"sm",$$slots:{default:[pt]},$$scope:{ctx:s}}}),t.$on("click",s[43]),{c(){e=B("span"),Z(t.$$.fragment),p(e,"class","button-wrap svelte-1sckpv1")},m(l,r){M(l,e,r),j(t,e,null),n=!0},p(l,r){const _={};r[1]&536870912&&(_.$$scope={dirty:r,ctx:l}),t.$set(_)},i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){R(t.$$.fragment,l),n=!1},d(l){l&&T(e),Q(t)}}}function pt(s){let e,t,n;return{c(){e=x("svg"),t=x("path"),n=$(`
						New row`),p(t,"fill","currentColor"),p(t,"d","M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),p(e,"aria-hidden","true"),p(e,"role","img"),p(e,"width","1em"),p(e,"height","1em"),p(e,"preserveAspectRatio","xMidYMid meet"),p(e,"viewBox","0 0 32 32"),p(e,"class","svelte-1sckpv1")},m(l,r){M(l,e,r),L(e,t),M(l,n,r)},p:te,d(l){l&&T(e),l&&T(n)}}}function Se(s){let e,t,n;return t=new He({props:{variant:"plain",size:"sm",$$slots:{default:[bt]},$$scope:{ctx:s}}}),t.$on("click",s[23]),{c(){e=B("span"),Z(t.$$.fragment),p(e,"class","button-wrap svelte-1sckpv1")},m(l,r){M(l,e,r),j(t,e,null),n=!0},p(l,r){const _={};r[1]&536870912&&(_.$$scope={dirty:r,ctx:l}),t.$set(_)},i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){R(t.$$.fragment,l),n=!1},d(l){l&&T(e),Q(t)}}}function bt(s){let e,t,n;return{c(){e=x("svg"),t=x("path"),n=$(`
						New column`),p(t,"fill","currentColor"),p(t,"d","m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),p(e,"aria-hidden","true"),p(e,"role","img"),p(e,"width","1em"),p(e,"height","1em"),p(e,"preserveAspectRatio","xMidYMid meet"),p(e,"viewBox","0 0 32 32"),p(e,"class","svelte-1sckpv1")},m(l,r){M(l,e,r),L(e,t),M(l,n,r)},p:te,d(l){l&&T(e),l&&T(n)}}}function kt(s){let e,t,n,l,r,_,d,f,i,g=s[1]&&s[1].length!==0&&Be(s);function y(o){s[41](o)}let c={flex:!1,center:!1,boundedheight:!1,disable_click:!0,$$slots:{default:[mt]},$$scope:{ctx:s}};s[14]!==void 0&&(c.dragging=s[14]),l=new ot({props:c}),P.push(()=>le(l,"dragging",y)),l.$on("load",s[42]);let m=s[4]&&Oe(s);return{c(){e=B("div"),g&&g.c(),t=V(),n=B("div"),Z(l.$$.fragment),_=V(),m&&m.c(),p(n,"class","table-wrap scroll-hide svelte-1sckpv1"),E(n,"dragging",s[14]),E(n,"no-wrap",!s[5]),p(e,"class","svelte-1sckpv1"),E(e,"label",s[1]&&s[1].length!==0)},m(o,A){M(o,e,A),g&&g.m(e,null),L(e,t),L(e,n),j(l,n,null),L(e,_),m&&m.m(e,null),d=!0,f||(i=[K(window,"click",s[24]),K(window,"touchstart",s[24])],f=!0)},p(o,A){o[1]&&o[1].length!==0?g?g.p(o,A):(g=Be(o),g.c(),g.m(e,t)):g&&(g.d(1),g=null);const S={};A[0]&32707|A[1]&536870912&&(S.$$scope={dirty:A,ctx:o}),!r&&A[0]&16384&&(r=!0,S.dragging=o[14],ne(()=>r=!1)),l.$set(S),A[0]&16384&&E(n,"dragging",o[14]),A[0]&32&&E(n,"no-wrap",!o[5]),o[4]?m?(m.p(o,A),A[0]&16&&C(m,1)):(m=Oe(o),m.c(),C(m,1),m.m(e,null)):m&&(W(),R(m,1,1,()=>{m=null}),X()),A[0]&2&&E(e,"label",o[1]&&o[1].length!==0)},i(o){d||(C(l.$$.fragment,o),C(m),d=!0)},o(o){R(l.$$.fragment,o),R(m),d=!1},d(o){o&&T(e),g&&g.d(),Q(l),m&&m.d(),f=!1,ge(i)}}}function wt(s,e){return e.filter(t);function t(n){var l=-1;return s.split(`
`).every(r);function r(_){if(!_)return!0;var d=_.split(n).length;return l<0&&(l=d),l===d&&d>1}}}function yt(s){const e=atob(s.split(",")[1]),t=s.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),l=new Uint8Array(n);for(let r=0;r<e.length;r++)l[r]=e.charCodeAt(r);return new Blob([n],{type:t})}function vt(s,e,t){let{datatype:n}=e,{label:l=null}=e,{headers:r=[]}=e,{values:_=[[]]}=e,{col_count:d}=e,{row_count:f}=e,{editable:i=!0}=e,{wrap:g=!1}=e;const y=ze();let c=!1,m=!1,o={};function A(a){let h=a||[];if(d[1]==="fixed"&&h.length<d[0]){const w=Array(d[0]-h.length).fill("").map((v,D)=>`${D+h.length}`);h=h.concat(w)}return!h||h.length===0?Array(d[0]).fill(0).map((w,v)=>{const D=`h-${v}`;return t(10,o[D]={cell:null,input:null},o),{id:D,value:JSON.stringify(v+1)}}):h.map((w,v)=>{const D=`h-${v}`;return t(10,o[D]={cell:null,input:null},o),{id:D,value:w??""}})}function S(a){const h=a.length>0?a.length:f[0];return Array(f[1]==="fixed"||h<f[0]?f[0]:h).fill(0).map((w,v)=>Array(d[1]==="fixed"?d[0]:a[0].length).fill(0).map((D,N)=>{const Y=`${v}-${N}`;return t(10,o[Y]={input:null,cell:null},o),{value:a?.[v]?.[N]??"",id:Y}}))}let u=A(r),k;async function q(){typeof c=="string"?(await J(),o[c]?.input?.focus()):typeof m=="string"&&(await J(),o[m]?.input?.focus())}let b=[[]],F;function U(a,h,w){if(!h)return"none";if(r[h]===a){if(w==="asc")return"ascending";if(w==="des")return"descending"}}function z(a){return b.reduce((h,w,v)=>{const D=w.reduce((N,Y,ue)=>a===Y.id?ue:N,-1);return D===-1?h:[v,D]},[-1,-1])}async function O(a,h){if(!i||c===a)return;if(h){const[v,D]=z(a);t(9,b[v][D].value="",b)}t(6,c=a),await J();const{input:w}=o[a];w?.focus()}async function G(a,h,w,v){let D;switch(a.key){case"ArrowRight":if(c)break;a.preventDefault(),D=b[h][w+1],t(7,m=D?D.id:m);break;case"ArrowLeft":if(c)break;a.preventDefault(),D=b[h][w-1],t(7,m=D?D.id:m);break;case"ArrowDown":if(c)break;a.preventDefault(),D=b[h+1],t(7,m=D?D[w].id:m);break;case"ArrowUp":if(c)break;a.preventDefault(),D=b[h-1],t(7,m=D?D[w].id:m);break;case"Escape":if(!i)break;a.preventDefault(),t(7,m=c),t(6,c=!1);break;case"Enter":if(!i)break;if(a.preventDefault(),a.shiftKey){re(h),await J();const[nt]=z(v);t(7,m=b[nt+1][w].id)}else c===v?t(6,c=!1):O(v);break;case"Backspace":if(!i)break;c||(a.preventDefault(),t(9,b[h][w].value="",b));break;case"Delete":if(!i)break;c||(a.preventDefault(),t(9,b[h][w].value="",b));break;case"Tab":let N=a.shiftKey?-1:1,Y=b[h][w+N],ue=b?.[h+N]?.[N>0?0:u.length-1],fe=Y||ue;fe&&(a.preventDefault(),t(7,m=fe?fe.id:m)),t(6,c=!1);break;default:(!c||c&&c!==v)&&a.key.length===1&&O(v,!0);break}}async function pe(a){c!==a&&m!==a&&(t(6,c=!1),t(7,m=a))}async function be(a,h){if(h==="edit"&&typeof a=="string"&&(await J(),o[a].input?.focus()),h==="edit"&&typeof a=="boolean"&&typeof m=="string"){let w=o[m]?.cell;await J(),w?.focus()}if(h==="select"&&typeof a=="string"){const{cell:w}=o[a];await J(),w?.focus()}}let I,ee;function Ue(a,h){h==="asc"?t(9,b=b.sort((w,v)=>w[a].value<v[a].value?-1:1)):h==="des"&&t(9,b=b.sort((w,v)=>w[a].value>v[a].value?-1:1))}function ke(a){typeof ee!="number"||ee!==a?(t(11,I="asc"),t(12,ee=a)):I==="asc"?t(11,I="des"):I==="des"&&t(11,I="asc"),Ue(a,I)}let H;function we(){if(typeof m=="string"){const a=o[m].input?.value;if(u.find(h=>h.id===m)){let h=u.find(w=>w.id===m);a&&(h.value=a)}else a&&u.push({id:m,value:a})}}async function ae(a,h){!i||d[1]!=="dynamic"||c===a||(t(13,H=a),await J(),o[a].input?.focus(),h&&o[a].input?.select())}function Je(a){if(!!i)switch(a.key){case"Escape":case"Enter":case"Tab":a.preventDefault(),t(7,m=H),t(13,H=!1),we();break}}function re(a){f[1]==="dynamic"&&(b.splice(a?a+1:b.length,0,Array(b[0].length).fill(0).map((h,w)=>{const v=`${b.length}-${w}`;return t(10,o[v]={cell:null,input:null},o),{id:v,value:""}})),t(9,b),t(27,_),t(29,F),t(26,r))}async function Ke(){if(d[1]!=="dynamic")return;for(let h=0;h<b.length;h++){const w=`${h}-${b[h].length}`;t(10,o[w]={cell:null,input:null},o),b[h].push({id:w,value:""})}const a=`h-${u.length}`;t(10,o[a]={cell:null,input:null},o),u.push({id:a,value:`Header ${u.length+1}`}),t(9,b),t(27,_),t(29,F),t(26,r),t(8,u),t(26,r),t(28,k),t(27,_),await J(),ae(a,!0)}function Ve(a){typeof c=="string"&&o[c]&&o[c].cell!==a.target&&!o[c].cell?.contains(a?.target)&&t(6,c=!1),typeof H=="string"&&o[H]&&o[H].cell!==a.target&&!o[H].cell?.contains(a.target)&&(t(7,m=H),t(13,H=!1),we(),t(13,H=!1))}function ye(a){const h=new FileReader;function w(v){if(!v?.target?.result||typeof v.target.result!="string")return;const[D]=wt(v.target.result,[",","	"]),[N,...Y]=ct(D).parseRows(v.target.result);t(8,u=A(d[1]==="fixed"?N.slice(0,d[0]):N)),t(27,_=Y),h.removeEventListener("loadend",w)}h.addEventListener("loadend",w),h.readAsText(a)}let ie=!1;function Ye(a,h){s.$$.not_equal(o[h].input,a)&&(o[h].input=a,t(10,o))}const Ge=a=>ae(a),Ie=a=>ke(a);function Pe(a,h){P[a?"unshift":"push"](()=>{o[h].cell=a,t(10,o)})}function Ze(a,h,w,v){w[v].value=a,t(9,b),t(27,_),t(29,F),t(26,r)}function je(a,h){s.$$.not_equal(o[h].input,a)&&(o[h].input=a,t(10,o))}function Qe(a,h){P[a?"unshift":"push"](()=>{o[h].cell=a,t(10,o)})}const We=a=>O(a),Xe=a=>pe(a),xe=a=>O(a),$e=(a,h,w,v)=>G(v,a,h,w);function et(a){ie=a,t(14,ie)}const tt=a=>ye(yt(a.detail.data)),lt=()=>re();return s.$$set=a=>{"datatype"in a&&t(0,n=a.datatype),"label"in a&&t(1,l=a.label),"headers"in a&&t(26,r=a.headers),"values"in a&&t(27,_=a.values),"col_count"in a&&t(2,d=a.col_count),"row_count"in a&&t(3,f=a.row_count),"editable"in a&&t(4,i=a.editable),"wrap"in a&&t(5,g=a.wrap)},s.$$.update=()=>{s.$$.dirty[0]&201326592&&(_&&!Array.isArray(_)?(t(26,r=_.headers),t(27,_=_.data.length===0?[Array(r.length).fill("")]:_.data)):_===null?t(27,_=[Array(r.length).fill("")]):(t(27,_),t(26,r))),s.$$.dirty[0]&335544320&&(se(r,k)||(t(8,u=A(r)),t(28,k=r),q())),s.$$.dirty[0]&671088640&&(se(_,F)||(t(9,b=S(_)),t(29,F=_),q())),s.$$.dirty[0]&768&&u&&y("change",{data:b.map(a=>a.map(({value:h})=>h)),headers:u.map(a=>a.value)}),s.$$.dirty[0]&64&&be(c,"edit"),s.$$.dirty[0]&128&&be(m,"select")},[n,l,d,f,i,g,c,m,u,b,o,I,ee,H,ie,U,O,G,pe,ke,ae,Je,re,Ke,Ve,ye,r,_,k,F,Ye,Ge,Ie,Pe,Ze,je,Qe,We,Xe,xe,$e,et,tt,lt]}class At extends _e{constructor(e){super(),de(this,e,vt,kt,he,{datatype:0,label:1,headers:26,values:27,col_count:2,row_count:3,editable:4,wrap:5},null,[-1,-1])}}function Dt(s){let e,t,n,l,r;const _=[s[10]];let d={};for(let f=0;f<_.length;f+=1)d=rt(d,_[f]);return t=new it({props:d}),l=new At({props:{label:s[7],row_count:s[6],col_count:s[5],values:s[0],headers:s[1],editable:s[4]==="dynamic",wrap:s[8],datatype:s[9]}}),l.$on("change",s[12]),{c(){e=B("div"),Z(t.$$.fragment),n=V(),Z(l.$$.fragment),p(e,"id",s[2]),p(e,"class","relative overflow-hidden svelte-1nw9bhs"),E(e,"hide",!s[3])},m(f,i){M(f,e,i),j(t,e,null),L(e,n),j(l,e,null),r=!0},p(f,[i]){const g=i&1024?ut(_,[ft(f[10])]):{};t.$set(g);const y={};i&128&&(y.label=f[7]),i&64&&(y.row_count=f[6]),i&32&&(y.col_count=f[5]),i&1&&(y.values=f[0]),i&2&&(y.headers=f[1]),i&16&&(y.editable=f[4]==="dynamic"),i&256&&(y.wrap=f[8]),i&512&&(y.datatype=f[9]),l.$set(y),(!r||i&4)&&p(e,"id",f[2]),i&8&&E(e,"hide",!f[3])},i(f){r||(C(t.$$.fragment,f),C(l.$$.fragment,f),r=!0)},o(f){R(t.$$.fragment,f),R(l.$$.fragment,f),r=!1},d(f){f&&T(e),Q(t),Q(l)}}}function Et(s,e,t){let{headers:n=[]}=e,{elem_id:l=""}=e,{visible:r=!0}=e,{value:_={data:[["","",""]],headers:["1","2","3"]}}=e,{mode:d}=e,{col_count:f}=e,{row_count:i}=e,{label:g=null}=e,{wrap:y}=e,{datatype:c}=e;const m=ze();let{loading_status:o}=e;async function A(u){t(0,_=u),await J(),m("change",u)}const S=({detail:u})=>A(u);return s.$$set=u=>{"headers"in u&&t(1,n=u.headers),"elem_id"in u&&t(2,l=u.elem_id),"visible"in u&&t(3,r=u.visible),"value"in u&&t(0,_=u.value),"mode"in u&&t(4,d=u.mode),"col_count"in u&&t(5,f=u.col_count),"row_count"in u&&t(6,i=u.row_count),"label"in u&&t(7,g=u.label),"wrap"in u&&t(8,y=u.wrap),"datatype"in u&&t(9,c=u.datatype),"loading_status"in u&&t(10,o=u.loading_status)},[_,n,l,r,d,f,i,g,y,c,o,A,S]}class Lt extends _e{constructor(e){super(),de(this,e,Et,Dt,he,{headers:1,elem_id:2,visible:3,value:0,mode:4,col_count:5,row_count:6,label:7,wrap:8,datatype:9,loading_status:10})}}var Ot=Lt;const Rt=["static","dynamic"],St=s=>({type:" { data: Array<Array<string | number>>; headers: Array<string> }",description:"hex color code",example_data:s.value??"#000000"});export{Ot as Component,St as document,Rt as modes};
//# sourceMappingURL=index.31ace574.js.map
