import{S,i as T,s as q,F as U,H as M,G as j,B as A,f as F,D as z,J as K,p as B,E as P,N as ae,c as w,e as C,m as v,k as G,t as h,n as I,o as k,l as y,q as Q,V as re,b as se,a as ie,j as oe,W as fe,X as ue,Y as _e,Z as ce,aj as me,v as be,a2 as de,g as ge,h as pe,x as L}from"./index.3b5d9bed.js";/* empty css                                            */import{B as R}from"./BlockLabel.321a7bc3.js";import{E as he}from"./Empty.e53bca5a.js";import{F as W}from"./File.e77d9be7.js";import{U as ke}from"./Upload.1f4a3d60.js";import{M as we}from"./ModifyUpload.0cce594d.js";import{n as V,b as ve}from"./ModifyUpload.svelte_svelte_type_style_lang.1181cbe3.js";import{B as ye}from"./Block.e25dc282.js";import{U as Ae}from"./UploadText.865355f4.js";import"./Blocks.1fa45552.js";import"./Button.cad7c48c.js";const Fe=r=>{let l=["B","KB","MB","GB","PB"],n=0;for(;r>1024;)r/=1024,n++;let e=l[n];return r.toFixed(1)+" "+e},X=r=>{var l;return l=r.orig_name||r.name,l.length>30?`${l.substr(0,30)}...`:l},Y=r=>{var l=0;if(Array.isArray(r))for(var n of r)n.size!==void 0&&(l+=n.size);else l=r.size||0;return Fe(l)};function Z(r,l,n){const e=r.slice();return e[1]=l[n],e}function Be(r){let l;return{c(){l=M("Uploading...")},m(n,e){F(n,l,e)},p:P,d(n){n&&B(l)}}}function ze(r){let l,n,e,t;return{c(){l=U("a"),n=M("Download"),A(l,"href",e=r[1].data),A(l,"target","_blank"),A(l,"download",t=window.__is_colab__?null:r[1].orig_name||r[1].name),A(l,"class","svelte-19f0ibn")},m(a,s){F(a,l,s),z(l,n)},p(a,s){s&1&&e!==(e=a[1].data)&&A(l,"href",e),s&1&&t!==(t=window.__is_colab__?null:a[1].orig_name||a[1].name)&&A(l,"download",t)},d(a){a&&B(l)}}}function O(r){let l,n,e=X(r[1])+"",t,a,s,o=Y(r[1])+"",u,d,i,_;function f(p,c){return p[1].data?ze:Be}let b=f(r),g=b(r);return{c(){l=U("tr"),n=U("td"),t=M(e),a=j(),s=U("td"),u=M(o),d=j(),i=U("td"),g.c(),_=j(),A(n,"class","svelte-19f0ibn"),A(s,"class","svelte-19f0ibn"),A(i,"class","download svelte-19f0ibn"),A(l,"class","file svelte-19f0ibn")},m(p,c){F(p,l,c),z(l,n),z(n,t),z(l,a),z(l,s),z(s,u),z(l,d),z(l,i),g.m(i,null),z(l,_)},p(p,c){c&1&&e!==(e=X(p[1])+"")&&K(t,e),c&1&&o!==(o=Y(p[1])+"")&&K(u,o),b===(b=f(p))&&g?g.p(p,c):(g.d(1),g=b(p),g&&(g.c(),g.m(i,null)))},d(p){p&&B(l),g.d()}}}function Ue(r){let l,n,e=Array.isArray(r[0])?r[0]:[r[0]],t=[];for(let a=0;a<e.length;a+=1)t[a]=O(Z(r,e,a));return{c(){l=U("table"),n=U("tbody");for(let a=0;a<t.length;a+=1)t[a].c();A(l,"class","file-preview svelte-19f0ibn")},m(a,s){F(a,l,s),z(l,n);for(let o=0;o<t.length;o+=1)t[o].m(n,null)},p(a,[s]){if(s&1){e=Array.isArray(a[0])?a[0]:[a[0]];let o;for(o=0;o<e.length;o+=1){const u=Z(a,e,o);t[o]?t[o].p(u,s):(t[o]=O(u),t[o].c(),t[o].m(n,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=e.length}},i:P,o:P,d(a){a&&B(l),ae(t,a)}}}function Ee(r,l,n){let{value:e}=l;return r.$$set=t=>{"value"in t&&n(0,e=t.value)},[e]}class $ extends S{constructor(l){super(),T(this,l,Ee,Ue,q,{value:0})}}function je(r){let l,n;return l=new he({props:{size:"large",unpadded_box:!0,$$slots:{default:[De]},$$scope:{ctx:r}}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,t){const a={};t&8&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Ne(r){let l,n,e;return n=new $({props:{value:r[0]}}),{c(){l=U("div"),w(n.$$.fragment),A(l,"class","file-preview svelte-kpwkad")},m(t,a){F(t,l,a),v(n,l,null),e=!0},p(t,a){const s={};a&1&&(s.value=t[0]),n.$set(s)},i(t){e||(k(n.$$.fragment,t),e=!0)},o(t){h(n.$$.fragment,t),e=!1},d(t){t&&B(l),y(n)}}}function De(r){let l,n;return l=new W({}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Me(r){let l,n,e,t,a,s;l=new R({props:{show_label:r[2],Icon:W,label:r[1]||"File"}});const o=[Ne,je],u=[];function d(i,_){return i[0]?0:1}return e=d(r),t=u[e]=o[e](r),{c(){w(l.$$.fragment),n=j(),t.c(),a=C()},m(i,_){v(l,i,_),F(i,n,_),u[e].m(i,_),F(i,a,_),s=!0},p(i,[_]){const f={};_&4&&(f.show_label=i[2]),_&2&&(f.label=i[1]||"File"),l.$set(f);let b=e;e=d(i),e===b?u[e].p(i,_):(G(),h(u[b],1,1,()=>{u[b]=null}),I(),t=u[e],t?t.p(i,_):(t=u[e]=o[e](i),t.c()),k(t,1),t.m(a.parentNode,a))},i(i){s||(k(l.$$.fragment,i),k(t),s=!0)},o(i){h(l.$$.fragment,i),h(t),s=!1},d(i){y(l,i),i&&B(n),u[e].d(i),i&&B(a)}}}function Pe(r,l,n){let{value:e=null}=l,{label:t}=l,{show_label:a=!0}=l;return r.$$set=s=>{"value"in s&&n(0,e=s.value),"label"in s&&n(1,t=s.label),"show_label"in s&&n(2,a=s.show_label)},[e,t,a]}class Se extends S{constructor(l){super(),T(this,l,Pe,Me,q,{value:0,label:1,show_label:2})}}function Te(r){let l,n,e;function t(s){r[10](s)}let a={filetype:r[5],parse_to_data_url:!1,file_count:r[3],$$slots:{default:[Ce]},$$scope:{ctx:r}};return r[4]!==void 0&&(a.dragging=r[4]),l=new ke({props:a}),se.push(()=>ie(l,"dragging",t)),l.$on("load",r[6]),{c(){w(l.$$.fragment)},m(s,o){v(l,s,o),e=!0},p(s,o){const u={};o&32&&(u.filetype=s[5]),o&8&&(u.file_count=s[3]),o&2048&&(u.$$scope={dirty:o,ctx:s}),!n&&o&16&&(n=!0,u.dragging=s[4],oe(()=>n=!1)),l.$set(u)},i(s){e||(k(l.$$.fragment,s),e=!0)},o(s){h(l.$$.fragment,s),e=!1},d(s){y(l,s)}}}function qe(r){let l,n,e,t;return l=new we({props:{absolute:!0}}),l.$on("clear",r[7]),e=new $({props:{value:r[0]}}),{c(){w(l.$$.fragment),n=j(),w(e.$$.fragment)},m(a,s){v(l,a,s),F(a,n,s),v(e,a,s),t=!0},p(a,s){const o={};s&1&&(o.value=a[0]),e.$set(o)},i(a){t||(k(l.$$.fragment,a),k(e.$$.fragment,a),t=!0)},o(a){h(l.$$.fragment,a),h(e.$$.fragment,a),t=!1},d(a){y(l,a),a&&B(n),y(e,a)}}}function Ce(r){let l;const n=r[9].default,e=fe(n,r,r[11],null);return{c(){e&&e.c()},m(t,a){e&&e.m(t,a),l=!0},p(t,a){e&&e.p&&(!l||a&2048)&&ue(e,n,t,t[11],l?ce(n,t[11],a,null):_e(t[11]),null)},i(t){l||(k(e,t),l=!0)},o(t){h(e,t),l=!1},d(t){e&&e.d(t)}}}function Ge(r){let l,n,e,t,a,s;l=new R({props:{show_label:r[2],Icon:W,label:r[1]||"File"}});const o=[qe,Te],u=[];function d(i,_){return i[0]?0:1}return e=d(r),t=u[e]=o[e](r),{c(){w(l.$$.fragment),n=j(),t.c(),a=C()},m(i,_){v(l,i,_),F(i,n,_),u[e].m(i,_),F(i,a,_),s=!0},p(i,[_]){const f={};_&4&&(f.show_label=i[2]),_&2&&(f.label=i[1]||"File"),l.$set(f);let b=e;e=d(i),e===b?u[e].p(i,_):(G(),h(u[b],1,1,()=>{u[b]=null}),I(),t=u[e],t?t.p(i,_):(t=u[e]=o[e](i),t.c()),k(t,1),t.m(a.parentNode,a))},i(i){s||(k(l.$$.fragment,i),k(t),s=!0)},o(i){h(l.$$.fragment,i),h(t),s=!1},d(i){y(l,i),i&&B(n),u[e].d(i),i&&B(a)}}}function Ie(r,l,n){let{$$slots:e={},$$scope:t}=l,{value:a}=l,{label:s}=l,{show_label:o=!0}=l,{file_count:u="single"}=l,{file_types:d=null}=l;async function i({detail:c}){n(0,a=c),await re(),f("change",a),f("upload",c)}function _({detail:c}){n(0,a=null),f("change",a),f("clear")}const f=Q();let b;d==null?b=null:(d=d.map(c=>c.startsWith(".")?c:c+"/*"),b=d.join(", "));let g=!1;function p(c){g=c,n(4,g)}return r.$$set=c=>{"value"in c&&n(0,a=c.value),"label"in c&&n(1,s=c.label),"show_label"in c&&n(2,o=c.show_label),"file_count"in c&&n(3,u=c.file_count),"file_types"in c&&n(8,d=c.file_types),"$$scope"in c&&n(11,t=c.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&f("drag",g)},[a,s,o,u,g,b,i,_,d,e,p,t]}class We extends S{constructor(l){super(),T(this,l,Ie,Ge,q,{value:0,label:1,show_label:2,file_count:3,file_types:8})}}function He(r){let l,n;return l=new Se({props:{value:r[9],label:r[4],show_label:r[5]}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,t){const a={};t&512&&(a.value=e[9]),t&16&&(a.label=e[4]),t&32&&(a.show_label=e[5]),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Je(r){let l,n;return l=new We({props:{label:r[4],show_label:r[5],value:r[9],file_count:r[6],file_types:r[7],$$slots:{default:[Ke]},$$scope:{ctx:r}}}),l.$on("change",r[15]),l.$on("drag",r[16]),l.$on("clear",r[17]),l.$on("upload",r[18]),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,t){const a={};t&16&&(a.label=e[4]),t&32&&(a.show_label=e[5]),t&512&&(a.value=e[9]),t&64&&(a.file_count=e[6]),t&128&&(a.file_types=e[7]),t&1048576&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Ke(r){let l,n;return l=new Ae({props:{type:"file"}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p:P,i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Le(r){let l,n,e,t,a,s;const o=[r[8],{status:r[11]?"generating":r[8]?.status||"complete"}];let u={};for(let f=0;f<o.length;f+=1)u=be(u,o[f]);l=new de({props:u});const d=[Je,He],i=[];function _(f,b){return f[3]==="dynamic"?0:1}return e=_(r),t=i[e]=d[e](r),{c(){w(l.$$.fragment),n=j(),t.c(),a=C()},m(f,b){v(l,f,b),F(f,n,b),i[e].m(f,b),F(f,a,b),s=!0},p(f,b){const g=b&2304?ge(o,[b&256&&pe(f[8]),{status:f[11]?"generating":f[8]?.status||"complete"}]):{};l.$set(g);let p=e;e=_(f),e===p?i[e].p(f,b):(G(),h(i[p],1,1,()=>{i[p]=null}),I(),t=i[e],t?t.p(f,b):(t=i[e]=d[e](f),t.c()),k(t,1),t.m(a.parentNode,a))},i(f){s||(k(l.$$.fragment,f),k(t),s=!0)},o(f){h(l.$$.fragment,f),h(t),s=!1},d(f){y(l,f),f&&B(n),i[e].d(f),f&&B(a)}}}function Ve(r){let l,n;return l=new ye({props:{visible:r[2],variant:r[3]==="dynamic"&&r[0]===null?"dashed":"solid",color:r[10]?"green":"grey",padding:!1,elem_id:r[1],$$slots:{default:[Le]},$$scope:{ctx:r}}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,[t]){const a={};t&4&&(a.visible=e[2]),t&9&&(a.variant=e[3]==="dynamic"&&e[0]===null?"dashed":"solid"),t&1024&&(a.color=e[10]?"green":"grey"),t&2&&(a.elem_id=e[1]),t&1052665&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Xe(r,l,n){let e,{elem_id:t=""}=l,{visible:a=!0}=l,{value:s}=l,o,{mode:u}=l,{root:d}=l,{label:i}=l,{show_label:_}=l,{file_count:f}=l,{file_types:b=["file"]}=l,{root_url:g}=l,{loading_status:p}=l,c=!1,D=!1;const H=Q(),x=({detail:m})=>n(0,s=m),ee=({detail:m})=>n(10,c=m);function le(m){L.call(this,r,m)}function te(m){L.call(this,r,m)}return r.$$set=m=>{"elem_id"in m&&n(1,t=m.elem_id),"visible"in m&&n(2,a=m.visible),"value"in m&&n(0,s=m.value),"mode"in m&&n(3,u=m.mode),"root"in m&&n(12,d=m.root),"label"in m&&n(4,i=m.label),"show_label"in m&&n(5,_=m.show_label),"file_count"in m&&n(6,f=m.file_count),"file_types"in m&&n(7,b=m.file_types),"root_url"in m&&n(13,g=m.root_url),"loading_status"in m&&n(8,p=m.loading_status)},r.$$.update=()=>{if(r.$$.dirty&12289&&n(9,e=V(s,d,g)),r.$$.dirty&29193&&e!==o){if(n(14,o=e),e===null)H("change"),n(11,D=!1);else if(u==="dynamic"){let m=(Array.isArray(e)?e:[e]).map(N=>N.blob),ne=e;n(11,D=!0),me(d,m).then(N=>{ne===e&&(n(11,D=!1),N.error?(Array.isArray(e)?e:[e]).forEach(async(E,J)=>{E.data=await ve(E.blob)}):((Array.isArray(e)?e:[e]).forEach((E,J)=>{N.files&&(E.orig_name=E.name,E.name=N.files[J],E.is_file=!0)}),n(9,e=V(s,d,g))),H("change"))})}}},[s,t,a,u,i,_,f,b,p,e,c,D,d,g,o,x,ee,le,te]}class Ye extends S{constructor(l){super(),T(this,l,Xe,Ve,q,{elem_id:1,visible:2,value:0,mode:3,root:12,label:4,show_label:5,file_count:6,file_types:7,root_url:13,loading_status:8})}}var sl=Ye;const il=["static","dynamic"],ol=r=>({type:"{ name: string; data: string }",description:"file name and base64 data as an object",example_data:{name:"zip.zip",data:"data:@file/octet-stream;base64,UEsFBgAAAAAAAAAAAAAAAAAAAAAAAA=="}});export{sl as Component,ol as document,il as modes};
//# sourceMappingURL=index.8c0dd29e.js.map
